<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href="{% static 'doqs/assets/css/apple/app.min.css' %}" rel="stylesheet"/>
    <!-- ================== END BASE CSS STYLE ================== -->

    <!-- ================== BEGIN PAGE LEVEL CSS STYLE ================== -->
    <link href="{% static 'doqs/assets/plugins/jvectormap-next/jquery-jvectormap.css' %}" rel="stylesheet"/>
    <link href="{% static 'doqs/assets/plugins/bootstrap-calendar/css/bootstrap_calendar.css' %}" rel="stylesheet"/>
    <link href="{% static 'doqs/assets/plugins/gritter/css/jquery.gritter.css' %}" rel="stylesheet"/>
    <link href="{% static 'doqs/assets/plugins/nvd3/build/nv.d3.css' %}" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@200&display=swap" rel="stylesheet">
    <link href="{% static 'doqs/assets/plugins/datatables.net-bs4/css/dataTables.bootstrap4.min.css' %}"
          rel="stylesheet"/>
    <link href="{% static 'doqs/assets/plugins/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css' %}"
          rel="stylesheet"/>
    <link href="{% static 'doqs/assets/plugins/fullcalendar/dist/fullcalendar.print.css' %}" rel="stylesheet"
          media='print'/>
    <link href="{% static 'doqs/assets/plugins/fullcalendar/dist/fullcalendar.min.css' %}" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/js/bootstrap-datetimepicker.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script src="http://fullcalendar.io/js/fullcalendar-2.3.1/fullcalendar.min.js"></script>
    <link rel="stylesheet" href="http://fullcalendar.io/js/fullcalendar-2.3.1/fullcalendar.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js'></script>
    <link href="{% static 'doqs/assets/plugins/ionicons/css/ionicons.min.css' %}" rel="stylesheet"/>

    <style>
        body {
            font-family: 'Kanit', sans-serif;
            margin: 0;
            padding: 0;
        }

        table.history {
            font-size: 18px;
        }

        input::-webkit-input-placeholder {
            font-size: 14px;
        }

        .modalcenter {
            top: 20%;
        }

        .scollshow {
            height: auto;
        }

        .inner-border::-webkit-scrollbar {
            display: none;
        }

        .check1 {
            transform: scale(1.9);
        }

        .fc-event {
            cursor: pointer;
            position: initial;
            height: 700px;
            text-align: center;
            margin: auto;
        }

        .fc-list-item {
            cursor: pointer;
        }

        .fc .fc-view-container .fc-body .fc-bg td.fc-today {
            background: #fffadb;
        }

        .show1 {
            position: absolute;
            display: block;
            width: 100%;
            color: black;
        }

    </style>
    <meta charset="UTF-8">
    <title>Doo-Q</title>
</head>
<body>
<div class="content-inverse-mode" style="background-color: white;height: 100%" id="content">
    <div style="background-color: white;width: 100%">
        <a href="{% url 'indexan' %}" class="btn btn-default w-100"><i
            class="ion ion-md-arrow-back fa-3x fa-fw pull-left  text-black-lighter" style="font-size: 48px;"></i><i
            class="ion ion-md-home fa-3x fa-fw pull-right"
            style="font-size: 48px;"></i>
        <p style="font-size: 32px;text-align: center">{% if request.session.hn %}
            กำลังเลือกใช้บริการ : {{ request.session.hospital }} </p>
        {% endif %}</a>
    </div>
    <div class="col-lg-12">
        <div style="width: 100%">
            <div class="carousel-item active">
                    <div class="carousel-caption d-none d-md-block" style="color: black;top: 5%">
                        <p style="font-size: 48px;text-align: center;font-weight: bold;">ตรวจสอบคิว <i
                                class="fas fa-info-circle"></i></p>
                        {% if z == 1 %}
                        <p style="font-size: 50px;text-align: center;color: red;font-weight: bold;">
                            วันนี้ไม่มีการเรียกคิวของท่าน</p>
                        {% endif %}
                        {% if z == 2 %}
                        <table style="font-size: 40px;font-weight: 900;" width="100%">
                            <tr>
                                <td style="text-align: right;">โรงพยาบาล :</td>
                                <td style="text-align: left;">{{ queueslist.9 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">หมอ :</td>
                                <td style="text-align: left">{{ queueslist.7 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">แผนก :</td>
                                <td style="text-align: left">{{ queueslist.8 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">กิจกรรม :</td>
                                <td style="text-align: left">{{ queueslist.1 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">วันที่ :</td>
                                <td style="text-align: left"><span
                                        id="dateshow{{ queueslist.4 }}"></span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">เวลา :</td>
                                <td style="text-align: left">
                                    {{ queueslist.5 }}-{{ queueslist.6 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right;">คิวที่ :</td>
                                <td style="text-align: left;">{{ queueslist.0 }}
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: right">สถานะ :</td>
                                {% if queueslist.13 == "None" %}

                                {% if queueslist.15 == 0 %}
                                <td style="text-align: left">รอเรียกคิว</td>
                                {% else %}
                                <td style="text-align: left">
                                    คิวก่อนหน้า {{ queueslist.15 }}
                                </td>
                                {% endif %}
                                {% else %}
                                <td style="text-align: left">เชิญที่ห้องตรวจ</td>
                                {% endif %}
                                </td>
                            </tr>
                        </table>
                        {% endif %}
                        <br>
                        <br>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>
</body>

<script>
    function toThaiDateString(date) {
        let monthNames = [
            "มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน",
            "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม.",
            "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"
        ];

        let year = date.getFullYear() + 543;
        let month = monthNames[date.getMonth()];
        let numOfDay = date.getDate();

        let hour = date.getHours().toString().padStart(2, "0");
        let minutes = date.getMinutes().toString().padStart(2, "0");
        let second = date.getSeconds().toString().padStart(2, "0");

        return `${numOfDay} ${month} ${year} `;
    }

    {% if queueslist %}
    var q = "{{ queueslist.4 }}"
    var w = new Date(q);
    var e = "{{ queueslist.2 }}"
    var r = new Date(e);
    var t = "{{ queueslist.13 }}"
    var u = new Date(t);
    if (q) {
        document.getElementById('dateshow' + '{{ queueslist.4}}').innerHTML = toThaiDateString(w);
    }
    {% endif %}
</script>
<script src="{% static 'doqs/assets/js/app.min.js' %}"></script>
<script src="{% static 'doqs/assets/js/theme/apple.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/d3/d3.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/nvd3/build/nv.d3.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-calendar/js/bootstrap_calendar.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/jquery-migrate/dist/jquery-migrate.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/moment/min/moment.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/ion-rangeslider/js/ion.rangeSlider.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/jquery.maskedinput/src/jquery.maskedinput.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/pwstrength-bootstrap/dist/pwstrength-bootstrap.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/@danielfarrell/bootstrap-combobox/js/bootstrap-combobox.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-select/dist/js/bootstrap-select.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/tag-it/js/tag-it.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/select2/dist/js/select2.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/datatables.net/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/datatables.net-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/datatables.net-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'doqs/assets/js/demo/table-manage-responsive.demo.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/d3/d3.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-show-password/dist/bootstrap-show-password.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/bootstrap-colorpalette/js/bootstrap-colorpalette.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/jquery-simplecolorpicker/jquery.simplecolorpicker.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/clipboard/dist/clipboard.min.js' %}"></script>
<script src="{% static 'doqs/assets/js/demo/form-plugins.demo.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/fullcalendar/dist/fullcalendar.min.js' %}"></script>
<script src="{% static 'doqs/assets/plugins/fullcalendar/dist/locale/th.js' %}"></script>
</html>